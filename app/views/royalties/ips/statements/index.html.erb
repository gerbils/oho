<% content_for :title, "IPS Royalty Statements" %>



<div class="mt-5 mb-3 d-flex align-items-start justify-content-between gap-5 border-bottom border-secondary">
  <h1 class="h2">IPS Royalty Statements</h1>

  <div class="align-right py-3 px-5 mb-5 bg-secondary bg-gradient ">
    <%= render partial: "/shared/upload_form", locals: {
      model: @upload_wrapper,
      url: upload_royalties_ips_statements_path(),
      title: "IPS Royalty Statement Download",
      text: "Drop or select the IPS royalty statement spreadsheet here",
      file_label: "&nbsp;".html_safe,
      multiple: false,
      accept: ".xlsx",
      submit_label: "Upload statement"
    } %>
  </div>
</div>

<%= turbo_stream_from "ips-royalty-index" %>

<table class="table table-striped">
  <thead>
    <tr>
      <th>View</th>
      <th> Stmt date </th>
      <th> Uploaded </th>
      <th> Imported </th>
      <th> Status </th>
      <th> STMT Total </th>
      <th class="text-end pe-3">Royalty (Â±)</th>
      <th> Uploaded file </th>
      <th></th>
    </tr>
  </thead>
  <tbody id="upload-list">
    <% @statements.each do |statement| %>
      <%= render partial: "statement", object: statement %>
    <% end %>
  </tbody>
</table>
<%= pagy_bootstrap_nav(@pagy).html_safe %>
